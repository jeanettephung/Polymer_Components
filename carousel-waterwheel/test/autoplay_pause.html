<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>autoplay and pause test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../carousel-waterwheel.html">
  </head>
  <body>

    <test-fixture id="Default">
      <template>
        <carousel-waterwheel>
          <img src="https://thumbs.dreamstime.com/b/male-crowntail-betta-fish-isolated-black-background-beautiful-blue-77203959.jpg">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Betta_splendens_male_crowntail.png">
          <img src="https://cdn.idropnews.com/wp-content/uploads/2017/03/23164924/Beta-Fish-Wallpaper-Chevanon-Photography-1000x600.jpg">
          <img src="https://thumbs.dreamstime.com/b/blue-crowntail-betta-fish-siamese-fighting-fish-black-background-71712481.jpg">
          <img src="https://thumbs.dreamstime.com/b/red-blue-siamese-fighting-fish-betta-fish-isolated-black-background-58695275.jpg">
          <img src="http://fishkeepingadvice.com/wp-content/uploads/siamese-fighting-fish.jpg">
          <img src="https://static.seattletimes.com/wp-content/uploads/2016/11/66ae45dc30524386bf08aee8a751b279-780x532.jpg">
          <img src="https://media.istockphoto.com/photos/white-yellow-siamese-fighting-fish-picture-id601925038?k=6&m=601925038&s=612x612&w=0&h=pOtNyPfF6pEgm_x8Qi1flpLKmJ1tcbOhnEsZ97BO8wE=">
          <img src="http://www.fubiz.net/wp-content/uploads/2013/11/Stunning-Portraits-of-Fish-1.jpg">
          <img src="https://i.pinimg.com/736x/41/f3/ea/41f3eaba447b068d04f27f88f85d8e05--tropical-animals-tropical-fish.jpg">
        </carousel-waterwheel>
      </template>
    </test-fixture>
    
    <test-fixture id="Autoplay">
      <template>
        <carousel-waterwheel autoplay>
          <img src="https://thumbs.dreamstime.com/b/male-crowntail-betta-fish-isolated-black-background-beautiful-blue-77203959.jpg">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Betta_splendens_male_crowntail.png">
          <img src="https://cdn.idropnews.com/wp-content/uploads/2017/03/23164924/Beta-Fish-Wallpaper-Chevanon-Photography-1000x600.jpg">
          <img src="https://thumbs.dreamstime.com/b/blue-crowntail-betta-fish-siamese-fighting-fish-black-background-71712481.jpg">
          <img src="https://thumbs.dreamstime.com/b/red-blue-siamese-fighting-fish-betta-fish-isolated-black-background-58695275.jpg">
          <img src="http://fishkeepingadvice.com/wp-content/uploads/siamese-fighting-fish.jpg">
          <img src="https://static.seattletimes.com/wp-content/uploads/2016/11/66ae45dc30524386bf08aee8a751b279-780x532.jpg">
          <img src="https://media.istockphoto.com/photos/white-yellow-siamese-fighting-fish-picture-id601925038?k=6&m=601925038&s=612x612&w=0&h=pOtNyPfF6pEgm_x8Qi1flpLKmJ1tcbOhnEsZ97BO8wE=">
          <img src="http://www.fubiz.net/wp-content/uploads/2013/11/Stunning-Portraits-of-Fish-1.jpg">
          <img src="https://i.pinimg.com/736x/41/f3/ea/41f3eaba447b068d04f27f88f85d8e05--tropical-animals-tropical-fish.jpg">
        </carousel-waterwheel>
      </template>
    </test-fixture>
    
    <test-fixture id="AutoplayVal">
      <template>
        <carousel-waterwheel autoplay=2000>
          <img src="https://thumbs.dreamstime.com/b/male-crowntail-betta-fish-isolated-black-background-beautiful-blue-77203959.jpg">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Betta_splendens_male_crowntail.png">
          <img src="https://cdn.idropnews.com/wp-content/uploads/2017/03/23164924/Beta-Fish-Wallpaper-Chevanon-Photography-1000x600.jpg">
          <img src="https://thumbs.dreamstime.com/b/blue-crowntail-betta-fish-siamese-fighting-fish-black-background-71712481.jpg">
          <img src="https://thumbs.dreamstime.com/b/red-blue-siamese-fighting-fish-betta-fish-isolated-black-background-58695275.jpg">
          <img src="http://fishkeepingadvice.com/wp-content/uploads/siamese-fighting-fish.jpg">
          <img src="https://static.seattletimes.com/wp-content/uploads/2016/11/66ae45dc30524386bf08aee8a751b279-780x532.jpg">
          <img src="https://media.istockphoto.com/photos/white-yellow-siamese-fighting-fish-picture-id601925038?k=6&m=601925038&s=612x612&w=0&h=pOtNyPfF6pEgm_x8Qi1flpLKmJ1tcbOhnEsZ97BO8wE=">
          <img src="http://www.fubiz.net/wp-content/uploads/2013/11/Stunning-Portraits-of-Fish-1.jpg">
          <img src="https://i.pinimg.com/736x/41/f3/ea/41f3eaba447b068d04f27f88f85d8e05--tropical-animals-tropical-fish.jpg">
        </carousel-waterwheel>
      </template>
    </test-fixture>
    
    <test-fixture id="Pause">
      <template>
        <carousel-waterwheel autoplay pause>
          <img src="https://thumbs.dreamstime.com/b/male-crowntail-betta-fish-isolated-black-background-beautiful-blue-77203959.jpg">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Betta_splendens_male_crowntail.png">
          <img src="https://cdn.idropnews.com/wp-content/uploads/2017/03/23164924/Beta-Fish-Wallpaper-Chevanon-Photography-1000x600.jpg">
          <img src="https://thumbs.dreamstime.com/b/blue-crowntail-betta-fish-siamese-fighting-fish-black-background-71712481.jpg">
          <img src="https://thumbs.dreamstime.com/b/red-blue-siamese-fighting-fish-betta-fish-isolated-black-background-58695275.jpg">
          <img src="http://fishkeepingadvice.com/wp-content/uploads/siamese-fighting-fish.jpg">
          <img src="https://static.seattletimes.com/wp-content/uploads/2016/11/66ae45dc30524386bf08aee8a751b279-780x532.jpg">
          <img src="https://media.istockphoto.com/photos/white-yellow-siamese-fighting-fish-picture-id601925038?k=6&m=601925038&s=612x612&w=0&h=pOtNyPfF6pEgm_x8Qi1flpLKmJ1tcbOhnEsZ97BO8wE=">
          <img src="http://www.fubiz.net/wp-content/uploads/2013/11/Stunning-Portraits-of-Fish-1.jpg">
          <img src="https://i.pinimg.com/736x/41/f3/ea/41f3eaba447b068d04f27f88f85d8e05--tropical-animals-tropical-fish.jpg">
        </carousel-waterwheel>
      </template>
    </test-fixture>
    
    <test-fixture id="PauseVal">
      <template>
        <carousel-waterwheel autoplay pause=300>
          <img src="https://thumbs.dreamstime.com/b/male-crowntail-betta-fish-isolated-black-background-beautiful-blue-77203959.jpg">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Betta_splendens_male_crowntail.png">
          <img src="https://cdn.idropnews.com/wp-content/uploads/2017/03/23164924/Beta-Fish-Wallpaper-Chevanon-Photography-1000x600.jpg">
          <img src="https://thumbs.dreamstime.com/b/blue-crowntail-betta-fish-siamese-fighting-fish-black-background-71712481.jpg">
          <img src="https://thumbs.dreamstime.com/b/red-blue-siamese-fighting-fish-betta-fish-isolated-black-background-58695275.jpg">
          <img src="http://fishkeepingadvice.com/wp-content/uploads/siamese-fighting-fish.jpg">
          <img src="https://static.seattletimes.com/wp-content/uploads/2016/11/66ae45dc30524386bf08aee8a751b279-780x532.jpg">
          <img src="https://media.istockphoto.com/photos/white-yellow-siamese-fighting-fish-picture-id601925038?k=6&m=601925038&s=612x612&w=0&h=pOtNyPfF6pEgm_x8Qi1flpLKmJ1tcbOhnEsZ97BO8wE=">
          <img src="http://www.fubiz.net/wp-content/uploads/2013/11/Stunning-Portraits-of-Fish-1.jpg">
          <img src="https://i.pinimg.com/736x/41/f3/ea/41f3eaba447b068d04f27f88f85d8e05--tropical-animals-tropical-fish.jpg">
        </carousel-waterwheel>
      </template>
    </test-fixture>

    <script>
      suite('carousel-waterwheel', () => {
        suiteSetup(function(){
            this.timeout(5000);
          })
        
        test('instantiating default (autoplay) element', () => {
          const el = fixture('Default');
          assert.equal(el.autoplay, undefined);
        });
        
        test('instantiating autoplay element', () => {
          const el = fixture('Autoplay');
          assert.equal(el.autoplay, 0);
        });
        
        test('instantiating autoplayVal element', () => {
          const el = fixture('AutoplayVal');
          assert.equal(el.autoplay, 2000);
        });
        
        test('instantiating default (pause) element', () => {
          const el = fixture('Default');
          assert.equal(el.pause, undefined);
        });
        
        test('instantiating pause element', () => {
          const el = fixture('Pause');
          assert.equal(el.pause, 0);
        });
        
        test('instantiating pauseVal element', () => {
          const el = fixture('PauseVal');
          assert.equal(el.pause, 300);
        });

        test('Default should be on same image', () => {
          const el = fixture('Default');
          const original = el.querySelector('.active');
          
          setTimeout(function() {
              const current = el.querySelector('.active');
              assert.equal(original, current);
          }, 2000);
        });
        
        test('Autoplay should be on next image', () => {
          const el = fixture('Default');
          const original = el.querySelector('.active');
          
          setTimeout(function() {
            const current = el.querySelector('.active');
            assert.notEqual(original, current);
          
            const originalNext = original.getAttribute('next');
            const currentNext = current.getAttribute('next');
            assert.equal(origianlNext+1, currentNext);
          }, 2000);
        });

      });
    </script>

  </body>
</html>
